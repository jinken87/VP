import{W as _,B as m,S as h,f,r as a,X as g,A as v,h as S,x as w,c as r,o as u,a as o,t as c,m as d,F as x,n as y}from"./DzOnPd9k.js";const q=_("suscriptions",()=>{const i=g();m(),h(),f(),a(null),a([]);const e=a(new Set);return{subscriptions:e,isSubscribed:t=>(console.log(e.value,"subscriptions.value"),console.log(e.value.has(t),"subscriptions.value.has(channelId)"),e.value.has(t)),toggleSubscription:async(t,s)=>{if(console.log(t,"userId"),!t)return alert("請先登入");e.value.has(s)?(await i.from("subscriptions").delete().match({subscriber_id:t,subscribed_to:s}),e.value.delete(s)):(await i.from("subscriptions").insert({subscriber_id:t,subscribed_to:s}),e.value.add(s))},fetchSubscriptions:async t=>{const{data:s}=await i.from("subscriptions").select("subscribed_to").eq("subscriber_id",t);e.value=new Set((s==null?void 0:s.map(p=>p.subscribed_to))||[])}}}),L={class:"h-full bg-white rounded-lg shadow overflow-auto"},k={class:"text-xl font-bold mb-4"},B={class:"space-y-4"},R=["src","alt"],V={class:"font-medium"},j={class:"text-sm text-gray-500"},A={class:"text-sm text-gray-500"},D={__name:"RecommendedVideos",props:{videoList:{type:Array,default:()=>[]}},setup(i){const e=i,{t:n}=v(),l=S(()=>e.videoList);return w(()=>e.videoList,()=>{console.log("0987654dfghjkl7777777",e.videoList)}),(b,t)=>(u(),r("div",L,[o("h2",k,c(d(n)("recommended_videos")),1),o("div",B,[(u(!0),r(x,null,y(d(l),s=>(u(),r("div",{key:s.id,class:"flex space-x-4"},[o("img",{src:s.thumbnail,alt:s.title,class:"w-40 h-24 object-cover rounded"},null,8,R),o("div",null,[o("h3",V,c(s.title),1),o("p",j,c(s.description),1),o("p",A,c(s.views)+" 次觀看 · "+c(s.uploadTime),1)])]))),128))])]))}};export{D as _,q as u};
